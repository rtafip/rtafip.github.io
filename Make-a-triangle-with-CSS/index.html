<!DOCTYPE html><html lang="en-US"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> CSS 绘制三角形 · 拖鞋党的拖鞋摊</title><meta name="description" content="CSS 绘制三角形 - 拖鞋党"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://en.ors-sro.com/atom.xml" title="拖鞋党的拖鞋摊"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/icon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/rss/" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">CSS 绘制三角形</h1><div class="post-info">Oct 23, 2016</div><div class="post-content"><p>CSS (Cascading Style Sheets，层叠样式表)，用于指定 HTML 中元素的样式。由浏览器渲染。本质上一种图像绘制。既然是图像绘制，能否绘制常见的形状比如三角形呢？</p>
<a id="more"></a>
<h2 id="矩形">矩形</h2><p>在绘制三角形之前，先来看看如何绘制矩形。</p>
<p>绘制矩形比较简单，主要用到了 <code>border</code> 属性。也就是一个东西四边都是边框就是矩形了。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"border:1px solid black"</span>&gt;</span>矩形<span class="tag">&lt;/<span class="title">span</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><span style="border:1px solid black">矩形</span></p>
<p>把中间的文字去掉就可以了。因为没有文字支撑。所以需要指定宽度或者使用空格（样式是样式，内容是内容，不要混淆，这里我偷懒就用空格来演示了）。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"border:1px solid black"</span>&gt;</span>　　<span class="tag">&lt;/<span class="title">span</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><span style="border:1px solid black">　　</span></p>
<p>但是这跟绘制三角形有什么关系呢？</p>
<p>这就不得不提一个 CSS 的花招。</p>
<h2 id="三角形花招">三角形花招</h2><p>如果把矩形的四边涂上颜色。看起来是这样的。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"border: 100px solid;border-left-color: #0066cc;</span><br><span class="line">             border-right-color: #0066cc;</span><br><span class="line">             border-top-color: white;</span><br><span class="line">             border-bottom-color: white;</span><br><span class="line">             display: inline-block;"</span>&gt;</span>囧<span class="tag">&lt;/<span class="title">span</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><span style="border: 100px solid;border-left-color: #0066cc;border-right-color: #0066cc;border-top-color: white;border-bottom-color: white;display: inline-block;">囧</span></p>
<p>把中间的文字去掉，就变成了这样。</p>
<p><span style="border: 100px solid;border-left-color: #0066cc;border-right-color: #0066cc;border-top-color: white;border-bottom-color: white;display: inline-block;"></span></p>
<p>很明显出现了四个三角形。那怎么得到一个三角形呢？</p>
<p>把其他三个三角形隐藏。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">span</span> <span class="attribute">style</span>=<span class="value">"border: 100px solid;</span><br><span class="line">			 border-left-color: #0066cc;</span><br><span class="line">			 border-right-color: transparent;</span><br><span class="line">			 border-top-color: transparent;</span><br><span class="line">			 border-bottom-color: transparent;</span><br><span class="line">			 display: inline-block;"</span>&gt;</span><span class="tag">&lt;/<span class="title">span</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><span style="border: 100px solid;border-left-color: #0066cc;border-right-color: transparent;border-top-color: transparent;border-bottom-color: transparent;display: inline-block;"></span></p>
<h2 id="原理">原理</h2><p>这究竟发生了什么？矩形的边是怎么变成三角形的？</p>
<p>先从头看起。回到最开始的图形。</p>
<p><span style="border: 100px solid;border-left-color: #0066cc;border-right-color: #0066cc;border-top-color: white;border-bottom-color: white;display: inline-block;">囧</span></p>
<p>注意看会发现，边其实不是一条线或者矩形，而是一个等腰梯形。</p>
<p>当把文字去掉了之后就变成了三角形。</p>
<p><span style="border: 100px solid;border-left-color: #0066cc;border-right-color: #0066cc;border-top-color: white;border-bottom-color: white;display: inline-block;"></span></p>
<p>这时候隐藏其他的三角形即可。</p>
<p>也就是说原来边缘并不是我们想象中的一条线，而是一个梯形，当元素的宽度和高度都为0时，梯形就变成了三角形。</p>
<p>动态过程是这样的。</p>
<p style="width:300px;height:300px;"><span style="border: 100px solid;border-left-color: #0066cc;border-right-color: #0066cc;border-top-color: white;border-bottom-color: white;width: 100px;height:100px;display: inline-block;animation: triangle 3s infinite ease;"></span></p>

<style type="text/css">
    @keyframes triangle{
        from{width:100px;height:100px;}
        to{width:0px;height:0px;}
    }
</style>

<p>隐藏的过程是这样的</p>
<p><span style="border: 100px solid;border-left-color: #0066cc;border-right-color: #0066cc;border-top-color: white;border-bottom-color: white;display: inline-block;animation: one-triangle 3s infinite ease;"></span></p>
<style type="text/css">
    @keyframes one-triangle{
        0% {border-left-color: #0066cc;border-right-color: #0066cc;border-top-color: white;border-bottom-color: white;}
        25% {border-top-color:transparent;}
        50% {border-top-color:transparent;border-right-color:transparent;}
        100% {border-top-color:transparent;border-right-color:transparent;border-bottom-color:transparent;}
    }
</style>

<h2 id="扩展">扩展</h2><p>利用类似的技巧就可以画出很多很多有趣的图形。<a href="http://cssicon.space/" target="_blank" rel="external">CSSIcon</a> 上有很好的示例。</p>
<p><img src="/img/CSSTriangle/MainPage.png" alt="纯 CSS 图标"></p>
<p>点开其中一个，鼠标移到属性上，会有详细介绍怎么实现的。</p>
<p><img src="/img/CSSTriangle/Item.png" alt="详细实现"></p>
<p>当然还可以用 CSS 绘制微信微笑的表情（<del>我就偷懒不写了</del>）</p>
<div class="smiley icon"><i></i></div>

<style type="text/css">
    .smiley.icon {
      color: #000;
      position: absolute;
      margin-left: 2px;
      margin-top: 2px;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      border: solid 1px currentColor;
    }

    .smiley.icon:before {
      content: '';
      position: absolute;
      left: 2px;
      top: 3px;
      width: 3px;
      height: 4px;
      border-radius: 3px;
      border: solid 1px currentColor;
    }

    .smiley.icon:after {
      content: '';
      position: absolute;
      right: 2px;
      top: 3px;
      width: 3px;
      height: 4px;
      border-radius: 3px;
      border: solid 1px currentColor;
    }

    .smiley.icon i {
      position: absolute;
      left: 2px;
      top: 7px;
      width: 10px;
      height: 5px;
      border-radius: 0 0 6px 6px;
      border-top: solid 1px transparent;
      border-bottom: solid 1px currentColor;
      border-left: solid 1px currentColor;
      border-right: solid 1px currentColor;
    }

    .smiley.icon i:before {
      content: '';
      position: absolute;
      left: 0px;
      top: -3px;
      width: 1px;
      height: 1px;
      border-radius: 50%;
      border: solid 1px currentColor;
      background-color: currentColor;
    }

    .smiley.icon i:after {
      content: '';
      position: absolute;
      right: 0px;
      top: -3px;
      width: 1px;
      height: 1px;
      border-radius: 50%;
      border: solid 1px currentColor;
      background-color: currentColor;
    }
</style>

<h2 id="后记">后记</h2><p>三个月前看到这个 CSS 花招，到现在终于把这个坑填了。在写的时候多次想放弃。最有意思的是将原理用动态的方式展现，顺便学了一点 CSS 动画的皮毛。其实绘制三角形最简单的方法是使用 ► 符号（逃</p>
</div></article></div></main><footer><div class="paginator"><a href="/FiraCode/" class="prev">上一篇</a><a href="/Learn-some-Javascript/" class="next">下一篇</a></div><div class="copyright"><p>© 2014 - 2018 <a href="http://en.ors-sro.com">拖鞋党</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p><p>Hosted by <a href="https://pages.coding.me" style="font-weight: bold; animation: breathe 3s infinite">Coding Pages</a></p></div></footer></div><script async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {
    inlineMath: [ ['$','$'], ["\\\(","\\)"] ],
    processEscapes: true
    }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});
</script></body></html>